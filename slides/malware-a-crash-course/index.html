<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png><link rel=canonical href=/slides/malware-a-crash-course/><title>Malware a Crash Course | Faximilie</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/reveal.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/theme/black.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous><link rel=stylesheet href=/css/reveal_custom.min.css><script>var link=document.createElement('link');link.rel='stylesheet';link.type='text/css';link.href=window.location.search.match(/print-pdf/gi)?'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/css/print/pdf.css':'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/css/print/paper.css';document.getElementsByTagName('head')[0].appendChild(link);</script></head><body><div class=reveal><div class=slides><section><h1 id=malware-a-crash-course>Malware: a Crash Course</h1></section><section><h2 id=what-is-malware>What is malware</h2><ul><li>Any malicious software</li><li>Worms, viruses, trojans, etc</li></ul></section><section><h2 id=who-makes-malware>Who makes malware</h2><ul><li>Russians</li></ul><aside class=notes>Russian law where they only charge people who commit cybercrime against Russians
Effective method of avoiding infection is to set your default language to Russian</aside><ul><li>teenagers from US, CA, UK, and AU</li></ul></section><section><h2 id=overview-of-terms>Overview of terms</h2><ul><li>Terms are not mutually exclusive</li><li>malware can leverage different features and be labeled different ways</li></ul><h2 id=trojans>Trojans</h2><ul><li>Malware hidden in legitimate software</li><li>Usually done by binding or backdooring legitimate software</li><li>Usually found in torrents</li></ul><h2 id=worms>Worms</h2><ul><li>Malware that automatically spreads without user interaction</li><li>Usually exploits network vulnerabilities</li><li>Not common anymore, although Wannacry was an exception</li></ul><h2 id=spyware>Spyware</h2><ul><li>Spyware is malware that is often legitimate in some respect</li><li>but will steal and siphon data away</li></ul><h2 id=viruses>Viruses</h2><ul><li>Self replicating malware</li><li>The term is not often used outside of pop culture as it&rsquo;s ill defined</li></ul></section><section><h2 id=major-types-of-malware>Major types of malware</h2><h2 id=rootkits>Rootkits</h2><ul><li>Complicated methods of hiding aspects of malware</li><li>Usually hiding files, registry keys, and network connections from the system</li><li>Usually Ring3 (userland) based</li><li>Sometimes Ring0 (kernal) based</li><li>Very occasionally a bootkit (bios rootkit)</li></ul><h3 id=rings>Rings</h3><ul><li>Rings are the level of access</li><li>there&rsquo;s usually two major ones<ul><li>Ring 3 - The userland where most applications will run</li><li>Ring 0 - The kernel where most drivers and the operating system will run</li></ul></li><li>Having a lower ring means you can hook System calls first</li></ul><h3 id=system-calls>System calls</h3><ul><li>System calls are what applications use to communicate with the OS and hardware</li><li>there are system calls for reading files, making network connections, etc</li><li>All abstracted to be non-hardware specific</li></ul><h3 id=hooking>Hooking</h3><ul><li>Rootkits work by hooking system calls and intercepting the data between the OS
and the application</li><li>There are a LOT of ways to do this</li><li>They often go down the chain, where the first hook will be called first</li><li>Thus getting the first hook is crucial in correctly intercepting data</li><li>Anti-viruses will also hook system calls to check for rootkits and suspicious behavior</li></ul><h2 id=loaders>Loaders</h2><ul><li>Malware specifically designed to provide strong persistence on a compromised system</li><li>It&rsquo;s job is to make sure no Anti-Virus or User can remove it</li><li>It often utilizes rootkits to achieve it&rsquo;s goal</li><li>It only exists to provide baseline persistence and load more specialized
malware onto a system</li><li>a Prominent example is Smoke Loader</li></ul><h2 id=rats>RATs</h2><ul><li>Remote Administration Trojans</li><li>Truely the most prolific malware type</li><li>Used by teenagers to dip their toe into cybercrime</li><li>They provide intimate access to a compromised computer as opposed to more
sophisticated malware such as botnets</li><li>Allowing remote desktop, access to the webcam, keylogger, chats, and even
functions to troll the user (ejecting CD drive)</li><li>Relatively cheap $20 a license with the ability to generate new payloads at will</li><li>Most prominent RATs are:<ul><li>Blackshades</li><li>DarkComet</li><li>jRAT</li></ul></li></ul><h2 id=botnets>Botnets</h2><ul><li>Botnet is an umbrella term for malware that is designed to collect a large
amount of compromised hosts and create a network of bots</li><li>They&rsquo;re often another type of malware in conjunction with this</li><li>They&rsquo;re designed for controlling thousands if not millions of compromised hosts</li><li>Very expensive, $100s of dollars for a payload to be generated by the author</li><li>This is in stark contrast to RATs</li><li>Prominent examples are:<ul><li>Betabot</li><li>Andromeda</li></ul></li></ul><h2 id=banking-trojans>Banking Trojans</h2><ul><li>Banking trojans are unique and powerful</li><li>They&rsquo;re specifically designed to defeat all verifications banks put in their
web pages</li><li>They can defeat encryption by hooking browser networking functions</li><li>intercept HTTP(S) POST requests skimming data (logins, credit
card numbers, etc)</li><li>intercept incoming HTTP(S) traffic and inject malicious javascript</li><li>They can then automatically siphon money from the account and hide the transactions</li><li>All generally cloned from zeus&rsquo;s leaked source code</li><li>Absurdly expensive, usually upwards of $1000 for a single payload generated by sellers</li><li>Prominent examples:<ul><li>Zeus</li><li>SpyEye</li><li>Citadel</li><li>Kronus</li></ul></li></ul><h2 id=pos-malware>POS malware</h2><ul><li>Attacks Point of sales machines</li><li>Constantly scans memory for credit card numbers</li><li>Where most credit cards are stolen from</li></ul><h2 id=ransomware>Ransomware</h2><ul><li>Also known as Cryptolockers</li><li>Restrict access to the system and demand a payment</li><li>Usually this is done by encrypting files</li><li>Very common these days</li></ul></section><section><h2 id=design-choices>Design choices</h2><h2 id=os-choice>OS Choice</h2><ul><li>Malware is often only made for windows as it represents the largest market share</li><li>This is not to say there isn&rsquo;t malware for Linux/MacOS/BSD, they are just much
less common</li></ul><h2 id=language-choice>Language choice</h2><ul><li>Malware is often written in C, C++, Delphi, and VB6</li><li>This is to avoid depending on libraries having being installed on the system
(.NET or Java)</li></ul><h2 id=compactness-and-modularity>Compactness and modularity</h2><ul><li>Malware is often designed to be compact and small to allow it to be downloaded
remotely over slow connections</li><li>This leads to modularization, lots of complicated malware will segment it&rsquo;s
capabilities into modules that will be loaded when needed</li></ul></section><section><h2 id=side-note-crypters>Side note: Crypters</h2><ul><li>Crypters encrypt payloads to avoid anti-virus detection</li><li>Relatively cheap</li><li>When no Anti-virus detects it it&rsquo;s called FUD</li><li>Protection only lasts a few weeks, so older files are safer.</li></ul></section><section><h2 id=infection-vectors>Infection Vectors</h2><ul><li>There are a lot of ways people look to infect victims with a malicious payload</li><li>Each type of malware usually has a specific method of infection designed to
target specific demographics</li></ul><h2 id=pirated-software>Pirated software</h2><ul><li>Pirated software is commonly infected, usually a malicious payload is
binded to existing torrents, crypted to avoid detection, and uploaded.</li><li>Sites like the pirate bay are pretty good at taking down infected uploads</li><li>KAT is not so great</li><li>This is mainly used by owners of RAT networks, as it&rsquo;s easy and low cost.</li></ul><h2 id=drive-bys>Drive bys</h2><ul><li>A common method botnet owners use to gain a large number of infected hosts</li><li>Has 3 major components<ul><li>Exploit kit</li><li>Compromised sites</li><li>Payload</li></ul></li><li>Often used to target 3rd world countries</li></ul><h3 id=exploit-kit>Exploit Kit</h3><ul><li>An exploit kit is a piece of software designed to select an exploit that will
be effective against an unpatched piece of software (IE 8, old flash, etc)</li><li>They are usually rented on a daily basis for $300+/day</li><li>RIG Exploit Kit is the most common used</li></ul><h3 id=legitimate-compromised-site>Legitimate Compromised site</h3><ul><li>You need to get traffic to an exploit kit</li><li>This is usually done through exploiting legit sites and placing iframes to the
exploit kit</li><li>Sometimes done through malicious advertisements as well</li></ul><h3 id=the-payload>The payload</h3><ul><li>Often the space to run code after an exploit is small</li><li>Often just enough to download and execute an additional stage</li></ul><h2 id=malicious-mail-attachments>Malicious mail attachments</h2><ul><li>Saw a dip in popularity during the early 2000s</li><li>On the rise with cryptolockers</li><li>Usually abuse Word macros to execute payloads</li><li>Often targeting business specifically</li></ul></section></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/js/reveal.min.js></script><script>window.revealPlugins={dependencies:[{src:'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/plugin/markdown/marked.js',condition:function(){return!!document.querySelector('[data-markdown]');}},{src:'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/plugin/markdown/markdown.js',condition:function(){return!!document.querySelector('[data-markdown]');}},{src:'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/plugin/highlight/highlight.js',async:true,callback:function(){hljs.initHighlightingOnLoad();}},{src:'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/plugin/zoom-js/zoom.js',async:true},{src:'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/plugin/math/math.js',async:true},{src:'https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/reveal.js\/3.8.0/plugin/print-pdf/print-pdf.js',async:true},{src:'\/js\/vendor\/reveal.js\/plugin\/notes\/notes.js',async:true}]};let revealDefaults={center:true,controls:true,history:true,progress:true,transition:'slide',mouseWheel:true};let revealOptions=Object.assign({},revealDefaults,revealPlugins);Reveal.initialize(revealOptions);</script></body></html>